version: "3"
services:
  pod:
    image: pod
    hostname: pod
    tty: true
    stdin_open: true
    volumes:
      - ${PWD}:/pod
      - /data/elastic-notebook/data:/pod/nbdata
    working_dir: /pod
    command: ["/bin/bash"]

  podpsql:
    image: postgres:16.1-bookworm
    hostname: podpsql
    tty: true
    stdin_open: true
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    command: ["postgres", "-p", "5432"]

  podredis:
    image: redis:7.2.4-bookworm
    hostname: podredis
    tty: true
    stdin_open: true
    volumes:
      - redis_data:/data
    command: ["redis-server", "--port", "6379"]

  podmongo:
    image: mongo:7.0.5-jammy
    hostname: podmongo
    tty: true
    stdin_open: true

volumes:
  redis_data:
